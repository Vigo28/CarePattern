<style>
    table {
        border-collapse: collapse;
    }

    td, th {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
    }

    tr:nth-child(even) {
        background-color: #dddddd;
    }

    .prediction-content {
        text-decoration: none;
        color: inherit;
    }
</style>

<h2>Uploaded Files</h2>

{% if folders %}
    <table>
        <tr>
            <th>Original filename</th>
            <th>Raw video</th>
            <th>Video with skeleton overlay</th>
            <th>Skeleton overlay only</th>
            <th>Prediction</th>
        </tr>

        {% for folder in folders %}
            <tr>
                <td>{{ folder.name }}</td>

                <td>
                    {% if folder.raw %}
                        <video width="320" height="240" controls>
                            <source src="{{ url_for('uploaded_file', filename=folder.raw) }}" type="video/mp4">
                            Your browser does not support HTML videos.
                        </video>
                    {% endif %}
                </td>

                <td>
                    {% if folder.overlay %}
                        <video width="320" height="240" controls>
                            <source src="{{ url_for('uploaded_file', filename=folder.overlay) }}" type="video/mp4">
                            Your browser does not support HTML videos.
                        </video>
                    {% endif %}
                </td>

                <td>
                    {% if folder.skeleton %}
                        <video width="320" height="240" controls>
                            <source src="{{ url_for('uploaded_file', filename=folder.skeleton) }}" type="video/mp4">
                            Your browser does not support HTML videos.
                        </video>
                    {% endif %}
                </td>

                <td>
                    {% if folder.prediction %}
                        <a href="{{ url_for('uploaded_file', filename=folder.prediction) }}" class="prediction-content">
                            {{ folder.prediction_content }}
                        </a>
                    {% endif %}
                </td>
            </tr>
        {% endfor %}
    </table>
{% else %}
    <p>No files uploaded</p>
{% endif %}